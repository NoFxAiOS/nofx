# 快速开始：HTX 和 Gate.io 交易所配置

本指南将帮助你快速配置 HTX (火币) 和 Gate.io 交易所。

## 📋 前置要求

- 已注册 HTX 或 Gate.io 账户
- 完成 KYC 实名认证
- 账户有 USDT 资金

## 🔑 获取 API 密钥

### HTX (火币)

1. **登录火币账户**

   - 访问：https://www.htx.com
   - 推荐使用邀请链接注册可享手续费折扣

2. **进入 API 管理**

   - 点击右上角头像
   - 选择"API 管理"
   - 点击"创建 API Key"

3. **配置 API 权限**

   ```
   ✅ 读取 (必选)
   ✅ 交易 (必选)
   ❌ 提币 (不要开启)
   ```

4. **IP 白名单设置**

   - 强烈建议绑定服务器 IP
   - 在 NOFX 配置页面可查看服务器 IP
   - 格式：`123.456.789.012`

5. **保存密钥**
   - API Key: `xxxxxxxx-xxxxxxxx-xxxxxxxx-xxxxx`
   - Secret Key: `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx`
   - ⚠️ Secret Key 只显示一次，请妥善保存

### Gate.io

1. **登录 Gate.io 账户**

   - 访问：https://www.gate.io
   - 推荐使用邀请链接注册可享手续费折扣

2. **进入 API 管理**

   - 点击右上角头像
   - 选择"API Keys"
   - 点击"Create API Key"

3. **配置 API 权限**

   ```
   ✅ Read Only (必选)
   ✅ Futures (必选)
   ❌ Withdraw (不要开启)
   ```

4. **IP 白名单设置**

   - 选择"Restrict access to trusted IPs only"
   - 添加你的服务器 IP
   - 可以添加多个 IP，用逗号分隔

5. **保存密钥**
   - API Key: `xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`
   - Secret Key: `xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`
   - ⚠️ Secret Key 只显示一次，请妥善保存

## 🚀 在 NOFX 中配置

### 步骤 1: 添加交易所账户

1. 进入 NOFX 配置页面
2. 点击"交易所"标签页
3. 点击"➕ 添加交易所"按钮

### 步骤 2: 选择交易所类型

对于 HTX：

- 选择"HTX (Huobi) Futures"
- 输入账户昵称，如"HTX 主账户"

对于 Gate.io：

- 选择"Gate.io Futures"
- 输入账户昵称，如"Gate 主账户"

### 步骤 3: 填写 API 信息

```
账户名称: [自定义名称]
API Key: [粘贴你的 API Key]
Secret Key: [粘贴你的 Secret Key]
```

### 步骤 4: 验证配置

- 点击"保存"
- 系统会自动查询账户余额
- 如果显示余额，说明配置成功 ✅
- 如果显示错误，请检查：
  - API Key 和 Secret Key 是否正确
  - API 权限是否正确开启
  - IP 白名单是否包含服务器 IP

## 🤖 创建 AI Trader

### 步骤 1: 创建 Trader

1. 进入"Traders"页面
2. 点击"创建 Trader"
3. 填写基本信息：
   ```
   名称: HTX-AI-Trader-1
   AI 模型: DeepSeek / Qwen / OpenAI / Claude
   交易所: [选择刚添加的 HTX 或 Gate 账户]
   策略: [选择或创建策略]
   ```

### 步骤 2: 配置参数

```
初始余额: [自动获取]
扫描间隔: 3 分钟 (推荐)
杠杆倍数:
  - BTC/ETH: 3-5x (推荐)
  - 山寨币: 2-3x (推荐)
保证金模式: 全仓 (推荐新手)
```

### 步骤 3: 启动交易

1. 保存 Trader 配置
2. 点击"启动"按钮
3. 监控交易情况

## 📊 监控与管理

### 查看实时数据

- **仪表盘**: 查看持仓、盈亏、决策日志
- **详情页**: 查看 AI 推理过程（Chain of Thought）
- **历史记录**: 查看历史交易记录

### 风险管理建议

1. **初始测试**

   ```
   资金量: 100-500 USDT
   杠杆: 2-3x
   运行时间: 24-48 小时
   ```

2. **正式运行**

   ```
   资金量: 根据个人情况
   杠杆: 3-5x
   设置止损: 建议开启
   ```

3. **监控要点**
   - 每日查看盈亏情况
   - 关注 AI 决策是否合理
   - 注意风险指标（回撤、胜率）

## ⚠️ 常见问题

### Q1: API 连接失败

**A:**

- 检查 API Key 和 Secret Key 是否正确
- 确认 IP 白名单包含服务器 IP
- 确认 API 权限开启正确

### Q2: 无法下单

**A:**

- 检查账户余额是否充足
- 确认合约账户是否已开通
- 检查 API 权限是否包含"交易"

### Q3: 余额显示不准确

**A:**

- 等待 15 秒缓存过期后刷新
- 检查是否有未结算的持仓
- 确认查询的是"合约账户"余额

### Q4: 杠杆设置失败

**A:**

- HTX 和 Gate 支持动态杠杆调整
- 某些币种可能有杠杆限制
- 持仓状态下杠杆可能无法修改

### Q5: 止损止盈不生效

**A:**

- 确认是否正确设置触发价格
- 检查订单是否在"条件单"列表中
- 部分交易所可能有最小价差限制

## 🔧 高级配置

### 自定义策略

创建策略时可以设置：

- 币源（AI500、持仓榜等）
- 技术指标（RSI、MACD、布林带等）
- 风控规则（最大回撤、止损比例等）
- 自定义 Prompt

### 多账户管理

可以同时添加多个交易所账户：

- HTX 账户 A（大资金）
- HTX 账户 B（小资金测试）
- Gate 账户（对冲策略）

每个账户可以运行独立的 Trader。

### AI 竞技模式

在竞技页面可以：

- 对比不同 AI 模型表现
- 查看实时盈亏排行
- 分析最优策略组合

## 📞 获取帮助

如果遇到问题：

1. 查看系统日志（Logs 页面）
2. 查看 [完整文档](./HTX_GATE_INTEGRATION.md)
3. 加入 Telegram 社区：[@nofx_dev_community](https://t.me/nofx_dev_community)
4. 提交 GitHub Issue

## 🎯 最佳实践

1. **从小额开始**：首次使用建议 100-500 USDT 测试
2. **合理杠杆**：新手建议 2-3x，熟练后可适当提高
3. **分散风险**：不要把所有资金放在一个交易所
4. **定期检查**：每天查看交易情况和 AI 决策
5. **及时止损**：设置合理的止损保护
6. **持续学习**：关注市场变化，优化策略参数

---

**风险提示**:

- 合约交易有高风险，可能导致本金全部亏损
- AI 交易不保证盈利，仅供参考
- 请根据自身风险承受能力谨慎交易
- 建议使用闲置资金进行交易

**祝你交易愉快！** 🚀
