# ğŸš€ NOFX ç¯å¢ƒé…ç½®å’Œè¿è¡ŒæŒ‡å—

## ğŸ“‹ ç›®å½•

1. [ç¯å¢ƒå˜é‡é…ç½®](#ç¯å¢ƒå˜é‡é…ç½®)
2. [å¿«é€Ÿå¯åŠ¨(æ¨è)](#å¿«é€Ÿå¯åŠ¨æ¨è)
3. [æ‰‹åŠ¨è¿è¡Œæ­¥éª¤](#æ‰‹åŠ¨è¿è¡Œæ­¥éª¤)
4. [éªŒè¯ç³»ç»Ÿè¿è¡Œ](#éªŒè¯ç³»ç»Ÿè¿è¡Œ)
5. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®

NOFXé¡¹ç›®æœ‰**ä¸¤å¥—é…ç½®ç³»ç»Ÿ**:

### æ–¹æ¡ˆ1: Dockerç¯å¢ƒå˜é‡ (`.env` æ–‡ä»¶)

**ä½ç½®**: `/mnt/d/.projects/nofx/.env`

**ç”¨é€”**: Dockeréƒ¨ç½²æ—¶çš„ç«¯å£å’Œæ—¶åŒºé…ç½®

```bash
# ç¼–è¾‘.envæ–‡ä»¶
nano .env

# æˆ–ä½¿ç”¨ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨
```

**å†…å®¹è¯´æ˜**:
```env
# åç«¯APIç«¯å£(é»˜è®¤8080)
NOFX_BACKEND_PORT=8080

# å‰ç«¯Webç•Œé¢ç«¯å£(é»˜è®¤3000)
NOFX_FRONTEND_PORT=3000

# æ—¶åŒºè®¾ç½®
NOFX_TIMEZONE=Asia/Shanghai
```

### æ–¹æ¡ˆ2: JSONé…ç½®æ–‡ä»¶ (æ¨èç”¨äºå¼€å‘)

**ä½ç½®**: `/mnt/d/.projects/nofx/config.json` (éœ€è¦åˆ›å»º)

**æ¨¡æ¿**: `config.json.example`

**åˆ›å»ºé…ç½®æ–‡ä»¶**:
```bash
cd /mnt/d/.projects/nofx
cp config.json.example config.json
```

**é…ç½®é¡¹è¯´æ˜**:
```json
{
  "admin_mode": true,              // ç®¡ç†å‘˜æ¨¡å¼(true=æ— éœ€ç™»å½•)
  "leverage": {
    "btc_eth_leverage": 5,         // BTC/ETHæœ€å¤§æ æ†
    "altcoin_leverage": 5          // å±±å¯¨å¸æœ€å¤§æ æ†
  },
  "use_default_coins": true,       // ä½¿ç”¨é»˜è®¤å¸ç§
  "default_coins": [               // é»˜è®¤äº¤æ˜“å¸ç§
    "BTCUSDT",
    "ETHUSDT",
    "SOLUSDT",
    "BNBUSDT"
  ],
  "api_server_port": 8080,         // APIæœåŠ¡ç«¯å£
  "max_daily_loss": 10.0,          // æœ€å¤§æ—¥äºæŸ(%)
  "max_drawdown": 20.0,            // æœ€å¤§å›æ’¤(%)
  "stop_trading_minutes": 60,      // è§¦å‘æ­¢æŸååœæ­¢äº¤æ˜“æ—¶é•¿
  "jwt_secret": "your-secret-key"  // JWTå¯†é’¥
}
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨(æ¨è)

### ä½¿ç”¨Dockerå¯åŠ¨(æœ€ç®€å•)

**å‰æ**: å·²å®‰è£…Dockerå’ŒDocker Compose

```bash
cd /mnt/d/.projects/nofx

# æ–¹æ³•1: ä½¿ç”¨å¯åŠ¨è„šæœ¬
chmod +x start.sh
./start.sh start --build

# æ–¹æ³•2: ç›´æ¥ä½¿ç”¨docker compose
docker compose up -d --build
```

**è®¿é—®ç³»ç»Ÿ**:
- å‰ç«¯: http://localhost:3000
- åç«¯API: http://localhost:8080

---

## ğŸ› ï¸ æ‰‹åŠ¨è¿è¡Œæ­¥éª¤

### å‰ææ¡ä»¶

#### 1. å®‰è£…Goç¯å¢ƒ

**WSL/Ubuntu**:
```bash
# ä¸‹è½½Go 1.21+
wget https://go.dev/dl/go1.21.6.linux-amd64.tar.gz

# è§£å‹
sudo tar -C /usr/local -xzf go1.21.6.linux-amd64.tar.gz

# é…ç½®ç¯å¢ƒå˜é‡
echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
source ~/.bashrc

# éªŒè¯
go version
```

**Windows**:
- ä¸‹è½½: https://go.dev/dl/
- è¿è¡Œå®‰è£…ç¨‹åº
- é‡å¯ç»ˆç«¯éªŒè¯: `go version`

#### 2. Pythonç¯å¢ƒ(å·²å®‰è£…âœ“)

```bash
# éªŒè¯Python(å·²å®Œæˆ)
python3 --version
# Output: Python 3.12.3 âœ“
```

### æ­¥éª¤1: åˆ›å»ºé…ç½®æ–‡ä»¶

```bash
cd /mnt/d/.projects/nofx

# å¤åˆ¶é…ç½®æ¨¡æ¿
cp config.json.example config.json

# ç¼–è¾‘é…ç½®(å¯é€‰)
nano config.json
```

### æ­¥éª¤2: å®‰è£…Goä¾èµ–

```bash
# å®‰è£…SQLiteé©±åŠ¨(ç”¨äºç»æµæ—¥å†)
go get github.com/mattn/go-sqlite3

# ä¸‹è½½æ‰€æœ‰ä¾èµ–
go mod download

# æ•´ç†ä¾èµ–
go mod tidy
```

### æ­¥éª¤3: ç¼–è¯‘åç«¯

```bash
# ç¼–è¯‘NOFXä¸»ç¨‹åº
go build -o nofx

# æ£€æŸ¥æ˜¯å¦æˆåŠŸ
ls -lh nofx
```

### æ­¥éª¤4: å®‰è£…Pythonä¾èµ–(ç»æµæ—¥å†)

```bash
cd world/ç»æµæ—¥å†

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ../..
```

### æ­¥éª¤5: å¯åŠ¨ç³»ç»Ÿ

#### æ–¹å¼A: è‡ªåŠ¨å¯åŠ¨(æ¨è)

```bash
# å¯åŠ¨NOFX(ä¼šè‡ªåŠ¨å¯åŠ¨ç»æµæ—¥å†æœåŠ¡)
./nofx
```

**ä½ ä¼šçœ‹åˆ°**:
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘    ğŸ¤– AIå¤šæ¨¡å‹äº¤æ˜“ç³»ç»Ÿ - æ”¯æŒ DeepSeek & Qwen            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ å¯åŠ¨ç»æµæ—¥å†æ•°æ®é‡‡é›†æœåŠ¡...
âœ“ ç»æµæ—¥å†æœåŠ¡å·²å¯åŠ¨ (PID: 12345, æ—¥å¿—: world/ç»æµæ—¥å†/calendar.log)
âœ“ é…ç½®æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ
ğŸŒ APIæœåŠ¡å™¨å¯åŠ¨åœ¨ http://localhost:8080
```

#### æ–¹å¼B: æ‰‹åŠ¨å¯åŠ¨(å¼€å‘è°ƒè¯•)

**ç»ˆç«¯1: å¯åŠ¨ç»æµæ—¥å†æœåŠ¡**
```bash
cd world/ç»æµæ—¥å†
python3 economic_calendar_minimal.py --interval 300 --verbose
```

**ç»ˆç«¯2: å¯åŠ¨NOFXåç«¯**
```bash
./nofx
```

**ç»ˆç«¯3: å¯åŠ¨å‰ç«¯(å¯é€‰)**
```bash
cd web
npm install   # é¦–æ¬¡è¿è¡Œ
npm run dev
```

---

## âœ… éªŒè¯ç³»ç»Ÿè¿è¡Œ

### 1. æ£€æŸ¥åç«¯è¿è¡Œ

```bash
# æ£€æŸ¥APIå¥åº·çŠ¶æ€
curl http://localhost:8080/api/health

# é¢„æœŸè¾“å‡º: {"status":"ok"}
```

### 2. æ£€æŸ¥ç»æµæ—¥å†æœåŠ¡

```bash
# æ–¹æ³•1: æŸ¥çœ‹æ—¥å¿—
tail -f world/ç»æµæ—¥å†/calendar.log

# æ–¹æ³•2: æŸ¥è¯¢æ•°æ®åº“
sqlite3 world/ç»æµæ—¥å†/economic_calendar.db \
  "SELECT COUNT(*) FROM events WHERE importance = 'é«˜';"

# æ–¹æ³•3: æ£€æŸ¥è¿›ç¨‹
ps aux | grep economic_calendar
```

### 3. è®¿é—®Webç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®:
- **å‰ç«¯ç•Œé¢**: http://localhost:3000
- **APIæ–‡æ¡£**: http://localhost:8080/api

---

## ğŸŒ ç¯å¢ƒå˜é‡é…ç½®ä½ç½®æ€»ç»“

| é…ç½®é¡¹ | ä½ç½® | ç”¨é€” | ä¼˜å…ˆçº§ |
|-------|------|------|--------|
| **Dockerç¯å¢ƒå˜é‡** | `.env` | Dockeréƒ¨ç½²æ—¶çš„ç«¯å£é…ç½® | æœ€é«˜(Docker) |
| **JSONé…ç½®** | `config.json` | ç³»ç»Ÿè¿è¡Œå‚æ•°ã€æ æ†ã€å¸ç§ç­‰ | é«˜ |
| **æ•°æ®åº“é…ç½®** | `config.db` | è¿è¡Œæ—¶åŠ¨æ€é…ç½®(AIæ¨¡å‹ã€äº¤æ˜“å‘˜) | æœ€é«˜(è¿è¡Œæ—¶) |
| **Pythonç¯å¢ƒå˜é‡** | `world/ç»æµæ—¥å†/.env` | ç»æµæ—¥å†ä»£ç†é…ç½® | ä¸­ |

### é…ç½®ä¼˜å…ˆçº§

```
æ•°æ®åº“é…ç½®(è¿è¡Œæ—¶) > JSONé…ç½®(å¯åŠ¨æ—¶) > ç¯å¢ƒå˜é‡(.env)
```

**é‡è¦**: Webç•Œé¢é…ç½®çš„æ•°æ®ä¼šå­˜å‚¨åœ¨ `config.db`,ä¼˜å…ˆçº§æœ€é«˜!

---

## ğŸ”§ ç»æµæ—¥å†ä¸“ç”¨é…ç½®

### é…ç½®æ–‡ä»¶ä½ç½®

```bash
cd world/ç»æµæ—¥å†

# åˆ›å»ºé…ç½®(å¯é€‰)
cp .env.example .env
nano .env
```

### é…ç½®å†…å®¹

```env
# ä»£ç†æ¨¡å¼ (auto/always/never)
PROXY_MODE=auto

# ä»£ç†åœ°å€(å¦‚æœéœ€è¦)
HTTP_PROXY=http://127.0.0.1:9910

# æ•°æ®åº“è·¯å¾„(é»˜è®¤ä½¿ç”¨ç›¸å¯¹è·¯å¾„)
DATABASE_URL=economic_calendar.db
```

**è¯´æ˜**:
- `PROXY_MODE=auto`: è‡ªåŠ¨æ£€æµ‹æ˜¯å¦éœ€è¦ä»£ç†
- `PROXY_MODE=always`: æ€»æ˜¯ä½¿ç”¨ä»£ç†
- `PROXY_MODE=never`: ä»ä¸ä½¿ç”¨ä»£ç†

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜1: Goå‘½ä»¤æœªæ‰¾åˆ°

**é”™è¯¯**: `bash: go: command not found`

**è§£å†³**:
```bash
# å®‰è£…Go(è§å‰é¢çš„å®‰è£…æ­¥éª¤)
wget https://go.dev/dl/go1.21.6.linux-amd64.tar.gz
sudo tar -C /usr/local -xzf go1.21.6.linux-amd64.tar.gz
echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
source ~/.bashrc
```

---

### é—®é¢˜2: ç«¯å£è¢«å ç”¨

**é”™è¯¯**: `bind: address already in use`

**æ£€æŸ¥å ç”¨**:
```bash
# æ£€æŸ¥8080ç«¯å£
lsof -i :8080
netstat -tulnp | grep 8080

# æ£€æŸ¥3000ç«¯å£
lsof -i :3000
```

**è§£å†³**:
```bash
# æ–¹æ³•1: æ€æ­»å ç”¨è¿›ç¨‹
kill -9 <PID>

# æ–¹æ³•2: ä¿®æ”¹ç«¯å£
# ç¼–è¾‘.envæˆ–config.json,æ”¹ä¸ºå…¶ä»–ç«¯å£å¦‚8081
```

---

### é—®é¢˜3: SQLiteé©±åŠ¨å®‰è£…å¤±è´¥

**é”™è¯¯**: `gcc: command not found` æˆ– `sqlite3.h: No such file`

**è§£å†³(Ubuntu/WSL)**:
```bash
sudo apt-get update
sudo apt-get install build-essential libsqlite3-dev

# é‡æ–°å®‰è£…é©±åŠ¨
go get github.com/mattn/go-sqlite3
```

---

### é—®é¢˜4: ç»æµæ—¥å†æœåŠ¡æœªå¯åŠ¨

**ç°è±¡**: æ²¡æœ‰çœ‹åˆ° "âœ“ ç»æµæ—¥å†æœåŠ¡å·²å¯åŠ¨"

**æ£€æŸ¥**:
```bash
# 1. æ£€æŸ¥Pythonè„šæœ¬æ˜¯å¦å­˜åœ¨
ls world/ç»æµæ—¥å†/economic_calendar_minimal.py

# 2. æ£€æŸ¥Pythonæ˜¯å¦å¯ç”¨
python3 --version

# 3. æ‰‹åŠ¨å¯åŠ¨æµ‹è¯•
cd world/ç»æµæ—¥å†
python3 economic_calendar_minimal.py --verbose
```

---

### é—®é¢˜5: Webç•Œé¢æ— æ³•è®¿é—®

**ç°è±¡**: http://localhost:3000 æ— æ³•æ‰“å¼€

**æ£€æŸ¥**:
```bash
# 1. æ£€æŸ¥å‰ç«¯æ˜¯å¦è¿è¡Œ
cd web
npm run dev

# 2. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
lsof -i :3000

# 3. æ£€æŸ¥é˜²ç«å¢™
sudo ufw status
```

---

## ğŸ“ é‡è¦æ–‡ä»¶ä½ç½®

```
/mnt/d/.projects/nofx/
â”œâ”€â”€ .env                           # Dockerç¯å¢ƒå˜é‡
â”œâ”€â”€ config.json                    # JSONé…ç½®æ–‡ä»¶(éœ€åˆ›å»º)
â”œâ”€â”€ config.json.example            # é…ç½®æ¨¡æ¿
â”œâ”€â”€ config.db                      # è¿è¡Œæ—¶æ•°æ®åº“(è‡ªåŠ¨åˆ›å»º)
â”œâ”€â”€ nofx                           # ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ main.go                        # ä¸»ç¨‹åºæºç 
â”œâ”€â”€ decision/engine.go             # å†³ç­–å¼•æ“(å·²é›†æˆç»æµæ—¥å†)
â”œâ”€â”€ world/ç»æµæ—¥å†/
â”‚   â”œâ”€â”€ .env                       # ç»æµæ—¥å†ä¸“ç”¨é…ç½®(å¯é€‰)
â”‚   â”œâ”€â”€ economic_calendar_minimal.py
â”‚   â”œâ”€â”€ economic_calendar.db       # ç»æµæ•°æ®åº“(è‡ªåŠ¨åˆ›å»º)
â”‚   â”œâ”€â”€ calendar.log               # è¿è¡Œæ—¥å¿—(è‡ªåŠ¨åˆ›å»º)
â”‚   â””â”€â”€ requirements.txt
â””â”€â”€ web/
    â”œâ”€â”€ .env                       # å‰ç«¯ç¯å¢ƒå˜é‡(å¯é€‰)
    â””â”€â”€ package.json
```

---

## ğŸ¯ æ¨èçš„è¿è¡Œæ–¹å¼

### å¼€å‘ç¯å¢ƒ

```bash
# ç»ˆç«¯1: åç«¯(è‡ªåŠ¨å¯åŠ¨ç»æµæ—¥å†)
./nofx

# ç»ˆç«¯2: å‰ç«¯
cd web && npm run dev

# è®¿é—®: http://localhost:3000
```

### ç”Ÿäº§ç¯å¢ƒ

```bash
# ä½¿ç”¨Docker
docker compose up -d

# æˆ–ä½¿ç”¨PM2
pm2 start pm2.config.js

# æŸ¥çœ‹æ—¥å¿—
pm2 logs nofx
```

---

## ğŸ“ è·å–å¸®åŠ©

1. **æŸ¥çœ‹æ—¥å¿—**:
   ```bash
   # NOFXæ—¥å¿—
   ./nofx

   # ç»æµæ—¥å†æ—¥å¿—
   tail -f world/ç»æµæ—¥å†/calendar.log

   # Dockeræ—¥å¿—
   docker compose logs -f
   ```

2. **æŠ€æœ¯æ–‡æ¡£**:
   - `ECONOMIC_CALENDAR_INTEGRATION.md` - ç»æµæ—¥å†æŠ€æœ¯æ–‡æ¡£
   - `ç»æµæ—¥å†é›†æˆä½¿ç”¨æŒ‡å—.md` - ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ
   - `README.md` - é¡¹ç›®æ€»ä½“è¯´æ˜

3. **æäº¤Issue**: https://github.com/tinkle-community/nofx/issues

---

## ğŸ‰ å¿«é€Ÿå¯åŠ¨å‘½ä»¤æ€»ç»“

```bash
# === æœ€ç®€å•çš„æ–¹å¼(Docker) ===
docker compose up -d

# === æ‰‹åŠ¨è¿è¡Œ ===
# 1. åˆ›å»ºé…ç½®
cp config.json.example config.json

# 2. å®‰è£…ä¾èµ–
go mod download
cd world/ç»æµæ—¥å† && pip install -r requirements.txt && cd ../..

# 3. ç¼–è¯‘å¹¶è¿è¡Œ
go build -o nofx
./nofx

# 4. (å¯é€‰)å¯åŠ¨å‰ç«¯
cd web && npm run dev
```

---

**å½“å‰ç³»ç»ŸçŠ¶æ€**:
- âœ… Python 3.12.3 å·²å®‰è£…
- âœ… ç»æµæ—¥å†è„šæœ¬å·²å°±ç»ª
- âœ… ä»£ç å·²é›†æˆç»æµæ—¥å†åŠŸèƒ½
- âš ï¸ éœ€è¦å®‰è£…Goç¯å¢ƒ
- âš ï¸ éœ€è¦åˆ›å»ºconfig.json

**ä¸‹ä¸€æ­¥**: å®‰è£…Goç¯å¢ƒå¹¶ç¼–è¯‘è¿è¡Œ!

---

**æœ€åæ›´æ–°**: 2025-11-02
**ä½œè€…**: NOFX Team
